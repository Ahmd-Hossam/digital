!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/common"),require("@angular/forms"),require("ngx-slimscroll"),require("date-fns")):"function"==typeof define&&define.amd?define("ngx-dates-picker",["exports","@angular/core","@angular/common","@angular/forms","ngx-slimscroll","date-fns"],e):e((t=t||self)["ngx-dates-picker"]={},t.ng.core,t.ng.common,t.ng.forms,t.ngxSlimscroll,t.dateFns)}(this,(function(t,e,n,i,a,r){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var s=function(){return(s=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)};function o(t,e,n,i){var a,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var o=t.length-1;o>=0;o--)(a=t[o])&&(s=(r<3?a(s):r>3?a(e,n,s):a(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s}var l=function(t,e){return r.isSameDay(t,e)&&r.isSameMonth(t,e)&&r.isSameYear(t,e)},d=function(t,e){return{start:new Date(t.getTime()),end:new Date(e.getTime())}},p=0,c=function(t){return null==t},u=c,h=function(){function t(){var t=this;this.headless=!1,this.isOpened=!1,this.position="bottom-right",this.currentOptions={closeOnClickOutside:!0,closeOnSelection:!0,includeDays:"previous-month",includeNextMonthsFirstFullWeek:!1,minYear:1970,maxYear:2030,displayFormat:"MMM dd, yyyy",barTitleFormat:"MMMM yyyy",dayNamesFormat:"EEE",rangeSeparator:"-",selectRange:!1,firstCalendarDay:0,barTitleIfEmpty:"Click to select a date",locale:{},placeholder:"",addClass:{},addStyle:{},fieldId:this.defaultFieldId,useEmptyBarTitle:!0},this.onTouchedCallback=function(){},this.onChangeCallback=function(){},this.formatDay=function(e,n){return void 0===n&&(n=!0),{date:e,day:r.getDate(e),month:r.getMonth(e),year:r.getYear(e),inThisMonth:r.isSameMonth(e,t.viewingDate),isToday:n&&r.isToday(e),isSelected:n&&t.isDateSelected(e),isInRange:n&&t.isInRange(e),isSelectable:n&&t.isDateSelectable(e),isStart:n&&t.isRangeBoundary(e,"start"),isEnd:n&&t.isRangeBoundary(e,"end"),isVisible:n}},this.scrollOptions={barBackground:"#DFE3E9",gridBackground:"#FFFFFF",barBorderRadius:"3",gridBorderRadius:"3",barWidth:"6",gridWidth:"6",barMargin:"0",gridMargin:"0"}}var n;return n=t,t.prototype.setDisabledState=function(t){this.disabled=t},Object.defineProperty(t.prototype,"range",{get:function(){return this._range},set:function(t){this._range=t,this.onChangeCallback(this.getValueToEmit(t))},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this.view="days",this.range={start:new Date,end:new Date},this.viewingDate=new Date,this.initDayNames(),this.initYears(),this.initMonths()},t.prototype.ngOnChanges=function(t){"options"in t&&(this.updateOptions(t.options.currentValue),this.initDayNames(),this.init(),this.initYears(),this.initMonths())},Object.defineProperty(t.prototype,"defaultFieldId",{get:function(){var t="datepicker-"+p++;return Object.defineProperty(this,"defaultFieldId",{value:t}),t},enumerable:!0,configurable:!0}),t.prototype.updateOptions=function(t){this.currentOptions=s(s({},this.currentOptions),t)},t.prototype.nextMonth=function(){this.viewingDate=r.addMonths(this.viewingDate,1),this.init()},t.prototype.prevMonth=function(){this.viewingDate=r.subMonths(this.viewingDate,1),this.init()},t.prototype.setDate=function(t){var e=this.days[t].date;this.currentOptions.selectRange?this.range.start||this.range.end?this.range.start&&!this.range.end&&r.isAfter(e,this.range.start)?this.range.end=e:(this.range.end=void 0,this.range.start=e):this.range.start=e:this.range.start=this.range.end=e,this.init(),this.onChangeCallback(this.getValueToEmit(this.range)),this.currentOptions.closeOnSelection&&this.range.end&&this.close()},t.prototype.setYear=function(t){this.viewingDate=r.setYear(this.viewingDate,this.years[t].year),this.init(),this.initYears(),this.view="months"},t.prototype.setMonth=function(t){this.viewingDate=r.setMonth(this.viewingDate,this.months[t].month),this.init(),this.initMonths(),this.view="days"},t.prototype.init=function(){var t=this;if(this.viewingDate){var e=r.startOfMonth(this.viewingDate),n=r.endOfMonth(this.viewingDate);this.days=r.eachDayOfInterval({start:e,end:n}).map((function(e){return t.formatDay(e)}));var i=r.getDay(e)-this.currentOptions.firstCalendarDay,a=i<0?7-this.currentOptions.firstCalendarDay:i,s=(1===this.currentOptions.firstCalendarDay?7:6)-r.getDay(n),o="all"===this.currentOptions.includeDays||"previous-month"===this.currentOptions.includeDays,l="all"===this.currentOptions.includeDays||"next-month"===this.currentOptions.includeDays;l&&this.currentOptions.includeNextMonthsFirstFullWeek&&(s+=7);for(var d=1;d<=a;d++)this.days.unshift(this.formatDay(r.subDays(e,d),o));new Array(s).fill(void 0).forEach((function(e,i){return t.days.push(t.formatDay(r.addDays(n,i+1),l))})),this.displayValue=this.formatDisplay(),this.range?this.barTitle=r.format(this.viewingDate,this.currentOptions.barTitleFormat,this.currentOptions.locale):this.barTitle=this.currentOptions.useEmptyBarTitle?this.currentOptions.barTitleIfEmpty:r.format(this.viewingDate,this.currentOptions.barTitleFormat,this.currentOptions.locale)}},t.prototype.initYears=function(){var t=this,e=this.currentOptions.maxYear-this.currentOptions.minYear;this.years=Array.from(new Array(e),(function(e,n){return n+t.currentOptions.minYear})).map((function(e){return{year:e,isThisYear:e===r.getYear(t.viewingDate)}}))},t.prototype.initMonths=function(){var t=this;this.months=Array.from(new Array(12),(function(t,e){return r.setMonth(new Date,e+1)})).map((function(e){return{month:e.getMonth(),name:r.format(e,"MMM"),isSelected:e.getMonth()===r.getMonth(t.viewingDate)}}))},t.prototype.initDayNames=function(){this.dayNames=[];for(var t=this.currentOptions.firstCalendarDay,e=t;e<=6+t;e++){var n=r.setDay(new Date,e);this.dayNames.push(r.format(n,this.currentOptions.dayNamesFormat,this.currentOptions.locale))}},t.prototype.toggleView=function(){this.view="days"===this.view?"years":"days"},t.prototype.toggle=function(){this.isOpened=!this.isOpened,this.isOpened||"years"!==this.view||this.toggleView()},t.prototype.close=function(){this.isOpened=!1,"years"===this.view&&this.toggleView()},t.prototype.reset=function(){this.range={start:new Date,end:new Date},this.init()},t.prototype.writeValue=function(t){if(t){if("string"==typeof t)this.range.start=this.range.end=new Date(t);else if(t instanceof Date)this.range.start=this.range.end=t;else{if(!t.start)throw Error("Invalid input data type");this.range=t}this.viewingDate=this.range.start||this.viewingDate,this.init()}},t.prototype.registerOnChange=function(t){this.onChangeCallback=t},t.prototype.registerOnTouched=function(t){this.onTouchedCallback=t},t.prototype.onBlur=function(t){this.isOpened&&this.currentOptions.closeOnClickOutside&&null!=this.inputElement&&(t.target===this.inputElement.nativeElement||this.inputElement.nativeElement.contains(t.target)||t.target.parentElement&&t.target.parentElement.classList.contains("day-unit")||this.calendarContainerElement.nativeElement===t.target||this.calendarContainerElement.nativeElement.contains(t.target)||t.target.classList.contains("year-unit")||t.target.classList.contains("month-unit")||this.close())},t.prototype.getDayClasses=function(t){return{"is-prev-month":!t.inThisMonth,"is-today":t.isToday,"is-selected":t.isSelected,"is-in-range":t.isInRange,"is-disabled":!t.isSelectable,"range-start":t.isStart,"range-end":t.isEnd,"is-visible":t.isVisible}},t.prototype.isDateSelectable=function(t){var e=!c(this.currentOptions.minDate),n=!c(this.currentOptions.maxDate),i=t.valueOf();return!(e&&i<this.currentOptions.minDate.valueOf()&&n&&i>this.currentOptions.maxDate.valueOf())},t.prototype.isDateSelected=function(t){return l(t,this.range.start)||l(t,this.range.end)},t.prototype.isInRange=function(t){return this.isDateSelected(t)||r.isAfter(t,this.range.start)&&r.isBefore(t,this.range.end)},t.prototype.formatDisplay=function(){if(!this.range)return"";var t=r.format(this.range.start,this.currentOptions.displayFormat,this.currentOptions.locale);if(this.currentOptions.selectRange){var e=r.format(this.range.end||this.range.start,this.currentOptions.displayFormat,this.currentOptions.locale);return""+t+this.currentOptions.rangeSeparator+e}return t},t.prototype.isRangeBoundary=function(t,e){return!this.range[e]||l(t,this.range[e])},t.prototype.getValueToEmit=function(t){return this.currentOptions.selectRange?t.end?d(t.start,t.end):d(t.start,t.start):new Date(t.start.getTime())},o([e.ViewChild("container")],t.prototype,"calendarContainerElement",void 0),o([e.ViewChild("inputElement")],t.prototype,"inputElement",void 0),o([e.Input()],t.prototype,"options",void 0),o([e.Input()],t.prototype,"headless",void 0),o([e.Input()],t.prototype,"isOpened",void 0),o([e.Input()],t.prototype,"position",void 0),o([e.Input()],t.prototype,"previousMonthButtonTemplate",void 0),o([e.Input()],t.prototype,"nextMonthButtonTemplate",void 0),o([e.HostListener("document:click",["$event"])],t.prototype,"onBlur",null),t=n=o([e.Component({selector:"ngx-dates-picker",template:'<div class="ngx-dates-picker-container">\n  <input *ngIf="!headless"\n         #inputElement\n         type="text"\n         class="ngx-dates-picker-input"\n         [(ngModel)]="displayValue"\n         readonly\n         [placeholder]="currentOptions.placeholder"\n         [ngClass]="currentOptions.addClass"\n         [ngStyle]="currentOptions.addStyle"\n         [id]="fieldId"\n         [disabled]="disabled"\n         (click)="toggle()" />\n  <ng-content></ng-content>\n  <div class="ngx-dates-picker-calendar-container ngx-dates-picker-position-{{position}}"\n       *ngIf="isOpened"\n       #container>\n    <div class="topbar-container">\n      <div (click)="prevMonth()">\n        <ng-template [ngTemplateOutlet]="previousMonthButtonTemplate || defaultPreviousMonthTemplate"></ng-template>\n      </div>\n      <ng-template #defaultPreviousMonthTemplate>\n        <svg width="7px"\n             height="10px"\n             viewBox="0 0 7 10"\n             version="1.1"\n             xmlns="http://www.w3.org/2000/svg"\n             xmlns:xlink="http://www.w3.org/1999/xlink">\n          <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n            <g transform="translate(-923.000000, -1882.000000)" fill="#CED0DA">\n              <g transform="translate(80.000000, 1361.000000)">\n                <g transform="translate(0.000000, 430.000000)">\n                  <g transform="translate(825.000000, 0.000000)">\n                    <g transform="translate(0.000000, 72.000000)">\n                      <g transform="translate(18.000000, 15.000000)">\n                        <polygon id="Back" points="6.015 4 0 9.013 6.015 14.025"></polygon>\n                      </g>\n                    </g>\n                  </g>\n                </g>\n              </g>\n            </g>\n          </g>\n        </svg>\n      </ng-template>\n      <span class="topbar-title" (click)="toggleView()">{{ barTitle }}</span>\n      <div (click)="nextMonth()">\n        <ng-template [ngTemplateOutlet]="nextMonthButtonTemplate || defaultNextMonthTemplate"></ng-template>\n      </div>\n      <ng-template #defaultNextMonthTemplate>\n        <svg width="7px"\n             height="10px"\n             viewBox="0 0 6 10"\n             version="1.1"\n             xmlns="http://www.w3.org/2000/svg"\n             xmlns:xlink="http://www.w3.org/1999/xlink">\n          <g id="Source-Sans---UI-Elements-Kit" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n            <g id="White-Layout" transform="translate(-1182.000000, -1882.000000)" fill="#CED0DA">\n              <g id="Dropdowns-&amp;-Selector" transform="translate(80.000000, 1361.000000)">\n                <g id="Dropdowns" transform="translate(0.000000, 430.000000)">\n                  <g id="Calendar" transform="translate(825.000000, 0.000000)">\n                    <g transform="translate(0.000000, 72.000000)" id="Top-Bar-Nav">\n                      <g transform="translate(18.000000, 15.000000)">\n                        <polygon id="Forward"\n                                 transform="translate(262.007500, 9.012500) scale(-1, 1) translate(-262.007500, -9.012500) "\n                                 points="265.015 4 259 9.013 265.015 14.025">\n                        </polygon>\n                      </g>\n                    </g>\n                  </g>\n                </g>\n              </g>\n            </g>\n          </g>\n        </svg>\n      </ng-template>\n    </div>\n    <div class="main-calendar-container">\n      <ng-container *ngIf="view === \'days\'">\n        <div class="main-calendar-day-names">\n          <span class="day-name-unit" *ngFor="let name of dayNames">{{ name }}</span>\n        </div>\n        <div class="main-calendar-days">\n          <span class="day-unit"\n                *ngFor="let day of days; let i = index;"\n                (click)="day.isSelectable && setDate(i)">\n            <span class="day-background-upper"\n                  [ngClass]="this.getDayClasses(day)">{{ day.isVisible ? day.day : \'\' }}</span>\n            <span class="day-background-lower"\n                  [ngClass]="this.getDayClasses(day)"></span>\n          </span>\n        </div>\n      </ng-container>\n      <div *ngIf="view === \'years\'">\n        <div class="main-calendar-years" slimScroll [options]="scrollOptions">\n          <span *ngFor="let year of years; let i = index;"\n                class="year-unit"\n                [ngClass]="{ \'is-selected\': year.isThisYear }"\n                (click)="setYear(i)"\n          >\n            {{ year.year }}\n          </span>\n        </div>\n        </div>\n      <div *ngIf="view === \'months\'" class="main-calendar-months">\n        <span *ngFor="let month of months; let i = index;"\n              class="month-unit"\n              [ngClass]="{ \'is-selected\': month.isSelected}"\n              (click)="setMonth(i)"\n        >\n          {{ month.name }}\n        </span>\n      </div>\n    </div>\n  </div>\n</div>\n',providers:[{provide:i.NG_VALUE_ACCESSOR,useExisting:e.forwardRef((function(){return n})),multi:!0}],styles:[".ngx-dates-picker-position-bottom-left{top:40px;right:0}.ngx-dates-picker-position-bottom-right{top:40px;left:0}.ngx-dates-picker-position-top-left{bottom:40px;right:0}.ngx-dates-picker-position-top-right{bottom:40px;left:0}.ngx-dates-picker-position-static{position:static!important}.ngx-dates-picker-container{position:relative}.ngx-dates-picker-input{padding:5px 10px;font-size:14px;width:200px;outline:0;border:1px solid #dfe3e9}.ngx-dates-picker-calendar-container{position:absolute;width:300px;background:#fff;box-shadow:0 1px 4px 0 rgba(0,0,0,.08);border:1px solid #dfe3e9;border-radius:4px}.topbar-container{width:100%;height:50px;padding:0 15px;border-bottom:1px solid #dfe3e9;display:flex;justify-content:space-between;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.topbar-container svg{cursor:pointer}.topbar-container svg g{fill:#ced0da}.topbar-container div{cursor:pointer}.topbar-title{color:#3d495c;font-size:14px;font-weight:600;cursor:pointer}.main-calendar-container{width:100%;height:100%;padding:15px 10px 0;font-size:12px;font-weight:500}.main-calendar-day-names{color:#cbcbcb;width:100%;display:flex;align-items:center}.day-name-unit{width:calc(100% / 7);text-transform:uppercase;text-align:center}.main-calendar-days,.main-calendar-years{padding:15px 0 0;width:100%;display:inline-block;overflow:hidden}.day-unit,.month-unit,.year-unit{position:relative;width:calc(100% / 7);font-size:14px;font-weight:400;height:40px;display:inline-flex;float:left;align-items:center;justify-content:center;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.day-background-upper{display:inline-flex;position:absolute;z-index:1;width:100%;height:100%;border-radius:50%;align-items:center;justify-content:center}.day-background-upper.is-selected{background:#0186ff;color:#fff}.day-background-upper:not(.is-visible){cursor:default}.day-background-upper.is-visible:hover{background:#f0f0f0;color:#000}.day-background-upper.is-visible.is-prev-month{color:#cbcbcb}.day-background-upper.is-visible.is-disabled{cursor:not-allowed;color:#cbcbcb}.day-background-lower{display:inline-flex;position:absolute;z-index:0;width:100%;height:100%;align-items:center;justify-content:center;border-top:2px solid #fff;border-bottom:2px solid #fff}.day-background-lower.is-in-range{background:rgba(1,134,255,.1)}.day-background-lower.range-start{border-bottom-left-radius:50%;border-top-left-radius:50%}.day-background-lower.range-end{border-bottom-right-radius:50%;border-top-right-radius:50%}.main-calendar-years{height:210px;display:block;padding:0}.month-unit{width:calc(100% / 4);height:54px}.year-unit{width:calc(100% / 3)}.month-unit,.year-unit{border-radius:10px}.month-unit.is-selected,.year-unit.is-selected{background:#0186ff;color:#fff}.month-unit:hover,.year-unit:hover{background:#f0f0f0;color:#000}.main-calendar-months{padding-bottom:10px;display:inline-block}"]})],t)}(),g=function(){function t(){}return t=o([e.NgModule({declarations:[h],imports:[n.CommonModule,i.FormsModule,a.NgSlimScrollModule],exports:[h,n.CommonModule,i.FormsModule,a.NgSlimScrollModule]})],t)}();t.NgxDatesPickerComponent=h,t.NgxDatesPickerModule=g,t.ɵ0=u,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=ngx-dates-picker.umd.min.js.map