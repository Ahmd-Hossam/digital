{"version":3,"file":"ngx-dates-picker.js","sources":["ng://ngx-dates-picker/src/ngx-dates-picker/helpers/is-same-date.ts","ng://ngx-dates-picker/src/ngx-dates-picker/helpers/create-date-range.ts","ng://ngx-dates-picker/src/ngx-dates-picker/component/ngx-dates-picker.component.ts","ng://ngx-dates-picker/src/ngx-dates-picker/module/ngx-dates-picker.module.ts","ng://ngx-dates-picker/ngx-dates-picker.ts"],"sourcesContent":["import { isSameDay, isSameMonth, isSameYear } from 'date-fns';\n\nexport const isSameDate = (date: Date, current: Date): boolean => (\n  isSameDay(date, current) && isSameMonth(date, current) && isSameYear(date, current)\n);\n","import { DateRange } from '../models';\n\nexport const createDateRange = (start: Date, end: Date): DateRange => ({\n  start: new Date(start.getTime()),\n  end: new Date(end.getTime()),\n});\n","import {\n  Component,\n  OnInit,\n  Input,\n  OnChanges,\n  SimpleChanges,\n  ElementRef,\n  HostListener,\n  forwardRef,\n  ViewChild,\n  TemplateRef\n} from '@angular/core';\nimport { NG_VALUE_ACCESSOR, ControlValueAccessor } from '@angular/forms';\nimport {\n  startOfMonth,\n  endOfMonth,\n  addMonths,\n  subMonths,\n  setYear,\n  eachDayOfInterval,\n  getDate,\n  getMonth,\n  getYear,\n  isToday,\n  isSameMonth,\n  format,\n  getDay,\n  subDays,\n  setDay,\n  isAfter, isBefore, addDays, setMonth,\n} from 'date-fns';\nimport { ISlimScrollOptions } from 'ngx-slimscroll';\nimport { isSameDate, createDateRange } from '../helpers';\nimport { DateRange, Day } from '../models';\n\nexport type AddClass = string | string[] | { [k: string]: boolean } | null;\n\nexport interface DatepickerOptions {\n  closeOnClickOutside?: boolean;\n  closeOnSelection?: boolean;\n  includeDays?: 'none' | 'previous-month' | 'next-month' | 'all';\n  includeNextMonthsFirstFullWeek?: boolean;\n  minYear?: number; // default: current year - 30\n  maxYear?: number; // default: current year + 30\n  displayFormat?: string; // default: 'MMM D[,] YYYY'\n  barTitleFormat?: string; // default: 'MMMM YYYY'\n  dayNamesFormat?: string; // default 'ddd'\n  barTitleIfEmpty?: string;\n  selectRange?: boolean;\n  rangeSeparator?: string; // default '-'\n  firstCalendarDay?: number; // 0 = Sunday (default), 1 = Monday, ..\n  locale?: object;\n  minDate?: Date;\n  maxDate?: Date;\n  /** Placeholder for the input field */\n  placeholder?: string;\n  /** [ngClass] to add to the input field */\n  addClass?: AddClass;\n  /** [ngStyle] to add to the input field */\n  addStyle?: { [k: string]: any } | null;\n  /** ID to assign to the input field */\n  fieldId?: string;\n  /** If false, barTitleIfEmpty will be disregarded and a date will always be shown. Default: true */\n  useEmptyBarTitle?: boolean;\n}\n\nexport type PickerPosition = 'bottom-left' | 'bottom-right' | 'top-left' | 'top-right' | 'static';\n\n// Counter for calculating the auto-incrementing field ID\nlet counter = 0;\n\n/**\n * Internal library helper that helps to check if value is empty\n * @param value\n */\nconst isNil = (value: Date | DatepickerOptions) => {\n  return (typeof value === 'undefined') || (value === null);\n};\n\n@Component({\n  selector: 'ngx-dates-picker',\n  templateUrl: 'ngx-dates-picker.component.html',\n  styleUrls: ['ngx-dates-picker.component.sass'],\n  providers: [\n    { provide: NG_VALUE_ACCESSOR, useExisting: forwardRef(() => NgxDatesPickerComponent), multi: true }\n  ]\n})\nexport class NgxDatesPickerComponent implements ControlValueAccessor, OnInit, OnChanges {\n  @ViewChild('container') calendarContainerElement: ElementRef;\n  @ViewChild('inputElement') inputElement: ElementRef;\n\n  @Input() options: DatepickerOptions;\n\n  /**\n   * Disable datepicker's input\n   */\n  @Input() headless = false;\n\n  /**\n   * Set datepicker's visibility state\n   */\n  @Input() isOpened = false;\n\n  /**\n   * Datepicker dropdown position\n   */\n  @Input() position: PickerPosition = 'bottom-right';\n\n  @Input() previousMonthButtonTemplate: TemplateRef<any>;\n  @Input() nextMonthButtonTemplate: TemplateRef<any>;\n\n  currentOptions: DatepickerOptions = {\n    closeOnClickOutside: true,\n    closeOnSelection: true,\n    includeDays: 'previous-month',\n    includeNextMonthsFirstFullWeek: false,\n    minYear: 1970,\n    maxYear: 2030,\n    displayFormat: 'MMM dd, yyyy',\n    barTitleFormat: 'MMMM yyyy',\n    dayNamesFormat: 'EEE',\n    rangeSeparator: '-',\n    selectRange: false,\n    firstCalendarDay: 0,\n    barTitleIfEmpty: 'Click to select a date',\n    locale: {},\n    placeholder: '',\n    addClass: {},\n    addStyle: {},\n    fieldId: this.defaultFieldId,\n    useEmptyBarTitle: true,\n  };\n\n  displayValue: string;\n  viewingDate: Date;\n  barTitle: string;\n  view: 'days' | 'months' | 'years';\n  years: { year: number; isThisYear: boolean }[];\n  months: { month: number; name: string; isSelected: boolean }[];\n  dayNames: string[];\n  scrollOptions: ISlimScrollOptions;\n  days: Day[];\n  fieldId: string;\n  disabled: boolean;\n\n  private _range: DateRange;\n\n  private onTouchedCallback: () => void = () => { };\n  private onChangeCallback: (_: any) => void = () => { };\n\n  public setDisabledState(isDisabled: boolean) {\n    this.disabled = isDisabled;\n  }\n\n  set range(val: DateRange | undefined) {\n    this._range = val;\n\n    this.onChangeCallback(this.getValueToEmit(val));\n  }\n\n  get range(): DateRange | undefined {\n    return this._range;\n  }\n\n  constructor() {\n    this.scrollOptions = {\n      barBackground: '#DFE3E9',\n      gridBackground: '#FFFFFF',\n      barBorderRadius: '3',\n      gridBorderRadius: '3',\n      barWidth: '6',\n      gridWidth: '6',\n      barMargin: '0',\n      gridMargin: '0'\n    };\n  }\n\n  ngOnInit() {\n    this.view = 'days';\n    this.range = {\n      start: new Date(),\n      end: new Date(),\n    };\n    this.viewingDate = new Date();\n\n    this.initDayNames();\n    this.initYears();\n    this.initMonths();\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if ('options' in changes) {\n      this.updateOptions(changes.options.currentValue);\n      this.initDayNames();\n      this.init();\n      this.initYears();\n      this.initMonths();\n    }\n  }\n\n  get defaultFieldId(): string {\n    // Only evaluate and increment if required\n    const value = `datepicker-${counter++}`;\n    Object.defineProperty(this, 'defaultFieldId', {value});\n\n    return value;\n  }\n\n  updateOptions(options: DatepickerOptions): void {\n    this.currentOptions = {\n      ...this.currentOptions,\n      ...options,\n    };\n  }\n\n  nextMonth(): void {\n    this.viewingDate = addMonths(this.viewingDate, 1);\n    this.init();\n  }\n\n  prevMonth(): void {\n    this.viewingDate = subMonths(this.viewingDate, 1);\n    this.init();\n  }\n\n  setDate(i: number): void {\n    const date = this.days[i].date;\n\n    if (this.currentOptions.selectRange) {\n      if (!this.range.start && !this.range.end) {\n        this.range.start = date;\n      } else if (this.range.start && !this.range.end && isAfter(date, this.range.start)) {\n        this.range.end = date;\n      } else {\n        this.range.end = undefined;\n        this.range.start = date;\n      }\n    } else {\n      this.range.start = this.range.end = date;\n    }\n\n    this.init();\n    this.onChangeCallback(this.getValueToEmit(this.range));\n\n    if (this.currentOptions.closeOnSelection && this.range.end) {\n      this.close();\n    }\n  }\n\n  setYear(i: number): void {\n    this.viewingDate = setYear(this.viewingDate, this.years[i].year);\n    this.init();\n    this.initYears();\n    this.view = 'months';\n  }\n\n  setMonth(i: number): void {\n    this.viewingDate = setMonth(this.viewingDate, this.months[i].month);\n    this.init();\n    this.initMonths();\n    this.view = 'days';\n  }\n\n  init(): void {\n    if (!this.viewingDate) {\n      return;\n    }\n\n    const start = startOfMonth(this.viewingDate);\n    const end = endOfMonth(this.viewingDate);\n\n    this.days = eachDayOfInterval({ start, end }).map((date) => this.formatDay(date));\n\n    const firstMonthDay = getDay(start) - this.currentOptions.firstCalendarDay;\n    const prevDays = firstMonthDay < 0 ? 7 - this.currentOptions.firstCalendarDay : firstMonthDay;\n    let nextDays = (this.currentOptions.firstCalendarDay === 1 ? 7 : 6) - getDay(end);\n\n    const showPrevMonthDays = this.currentOptions.includeDays === 'all' || this.currentOptions.includeDays === 'previous-month';\n    const showNextMonthDays = this.currentOptions.includeDays === 'all' || this.currentOptions.includeDays === 'next-month';\n\n    if (showNextMonthDays && this.currentOptions.includeNextMonthsFirstFullWeek) {\n      nextDays += 7;\n    }\n\n    for (let i = 1; i <= prevDays; i++) {\n      this.days.unshift(this.formatDay(subDays(start, i), showPrevMonthDays));\n    }\n\n    new Array(nextDays).fill(undefined)\n      .forEach((_, i) => this.days.push(this.formatDay(addDays(end, i + 1), showNextMonthDays)));\n\n\n    this.displayValue = this.formatDisplay();\n\n    if (this.range) {\n      this.barTitle = format(this.viewingDate, this.currentOptions.barTitleFormat, this.currentOptions.locale);\n    } else {\n      this.barTitle = this.currentOptions.useEmptyBarTitle ?\n        this.currentOptions.barTitleIfEmpty :\n        format(this.viewingDate, this.currentOptions.barTitleFormat, this.currentOptions.locale);\n    }\n  }\n\n  initYears(): void {\n    const range = this.currentOptions.maxYear - this.currentOptions.minYear;\n\n    this.years = Array.from(new Array(range), (x, i) => i + this.currentOptions.minYear).map((year) => {\n      return { year: year, isThisYear: year === getYear(this.viewingDate) };\n    });\n  }\n\n  initMonths(): void {\n    this.months = Array.from(new Array(12), (x, i) => setMonth(new Date(), i + 1))\n      .map((date) => {\n        return { month: date.getMonth(), name: format(date, 'MMM'), isSelected: date.getMonth() === getMonth(this.viewingDate) };\n      });\n  }\n\n  initDayNames(): void {\n    this.dayNames = [];\n    const start = this.currentOptions.firstCalendarDay;\n\n    for (let i = start; i <= 6 + start; i++) {\n      const date = setDay(new Date(), i);\n\n      this.dayNames.push(format(date, this.currentOptions.dayNamesFormat, this.currentOptions.locale));\n    }\n  }\n\n  toggleView(): void {\n    this.view = this.view === 'days' ? 'years' : 'days';\n  }\n\n  toggle(): void {\n    this.isOpened = !this.isOpened;\n\n    if (!this.isOpened && this.view === 'years') {\n      this.toggleView();\n    }\n  }\n\n  close(): void {\n    this.isOpened = false;\n\n    if (this.view === 'years') {\n      this.toggleView();\n    }\n  }\n\n  reset(): void {\n    this.range = {\n      start: new Date(),\n      end: new Date(),\n    };\n    this.init();\n  }\n\n  writeValue(val: DateRange | Date | string | undefined) {\n    if (val) {\n      if (typeof val === 'string') {\n        this.range.start = this.range.end = new Date(val);\n      } else if (val instanceof Date) {\n        this.range.start = this.range.end = val;\n      } else if (val.start) { // Checking if it's instance of DateRange\n        this.range = val;\n      } else {\n        throw Error('Invalid input data type');\n      }\n\n      this.viewingDate = this.range.start || this.viewingDate;\n\n      this.init();\n    }\n  }\n\n  registerOnChange(fn: any) {\n    this.onChangeCallback = fn;\n  }\n\n  registerOnTouched(fn: any) {\n    this.onTouchedCallback = fn;\n  }\n\n  @HostListener('document:click', ['$event']) onBlur(e: MouseEvent) {\n    if (!this.isOpened || !this.currentOptions.closeOnClickOutside) {\n      return;\n    }\n\n    if (this.inputElement == null) {\n      return;\n    }\n\n    if (e.target === this.inputElement.nativeElement ||\n      this.inputElement.nativeElement.contains(<any>e.target) ||\n      ((<any>e.target).parentElement && (<any>e.target).parentElement.classList.contains('day-unit'))\n    ) {\n      return;\n    }\n\n    if (this.calendarContainerElement.nativeElement !== e.target &&\n      !this.calendarContainerElement.nativeElement.contains(<any>e.target) &&\n      !(<any>e.target).classList.contains('year-unit') &&\n      !(<any>e.target).classList.contains('month-unit')\n    ) {\n      this.close();\n    }\n  }\n\n\n  formatDay = (date: Date, isVisible: boolean = true): Day => (\n    {\n      date: date,\n      day: getDate(date),\n      month: getMonth(date),\n      year: getYear(date),\n      inThisMonth: isSameMonth(date, this.viewingDate),\n      isToday: isVisible && isToday(date),\n      isSelected: isVisible && this.isDateSelected(date),\n      isInRange: isVisible && this.isInRange(date),\n      isSelectable: isVisible && this.isDateSelectable(date),\n      isStart: isVisible && this.isRangeBoundary(date, 'start'),\n      isEnd: isVisible && this.isRangeBoundary(date, 'end'),\n      isVisible,\n    }\n  )\n\n  getDayClasses(day: Day): AddClass {\n    return {\n      'is-prev-month': !day.inThisMonth,\n      'is-today': day.isToday,\n      'is-selected': day.isSelected,\n      'is-in-range': day.isInRange,\n      'is-disabled': !day.isSelectable,\n      'range-start': day.isStart,\n      'range-end': day.isEnd,\n      'is-visible': day.isVisible,\n    };\n  }\n\n  /**\n   * Checks if specified date is in range of min and max dates\n   * @param date\n   */\n  private isDateSelectable(date: Date): boolean {\n    const minDateSet = !isNil(this.currentOptions.minDate);\n    const maxDateSet = !isNil(this.currentOptions.maxDate);\n    const timestamp = date.valueOf();\n\n    return (!(minDateSet && timestamp < this.currentOptions.minDate.valueOf()) ||\n      (!(maxDateSet && timestamp > this.currentOptions.maxDate.valueOf())));\n  }\n\n  private isDateSelected(date: Date): boolean {\n    return isSameDate(date, this.range.start) || isSameDate(date, this.range.end);\n  }\n\n  private isInRange(date: Date): boolean {\n    return this.isDateSelected(date) || (isAfter(date, this.range.start) && isBefore(date, this.range.end));\n  }\n\n  private formatDisplay(): string {\n    if (!this.range) {\n      return '';\n    }\n\n    const formattedStartDate = format(this.range.start, this.currentOptions.displayFormat, this.currentOptions.locale);\n\n    if (this.currentOptions.selectRange) {\n      const formattedEndDate = format(\n        this.range.end || this.range.start,\n        this.currentOptions.displayFormat,\n        this.currentOptions.locale\n      );\n\n      return `${formattedStartDate}${this.currentOptions.rangeSeparator}${formattedEndDate}`;\n    }\n\n    return formattedStartDate;\n  }\n\n  private isRangeBoundary(date: Date, boundary: 'start' | 'end'): boolean {\n    return !this.range[boundary] || isSameDate(date, this.range[boundary]);\n  }\n\n  private getValueToEmit(range: DateRange): DateRange | Date {\n    if (!this.currentOptions.selectRange) {\n      return new Date(range.start.getTime());\n    }\n\n    if (range.end) {\n      return createDateRange(range.start, range.end);\n    }\n\n    return createDateRange(range.start, range.start);\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { NgSlimScrollModule } from 'ngx-slimscroll';\nimport { NgxDatesPickerComponent } from '../component/ngx-dates-picker.component';\n\n@NgModule({\n  declarations: [ NgxDatesPickerComponent ],\n  imports: [ CommonModule, FormsModule, NgSlimScrollModule ],\n  exports: [ NgxDatesPickerComponent, CommonModule, FormsModule, NgSlimScrollModule ]\n})\nexport class NgxDatesPickerModule { }\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"names":[],"mappings":"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"}